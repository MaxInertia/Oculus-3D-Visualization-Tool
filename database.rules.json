{
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null",
  	"users": {
    	"$user_id": {
			".write": "$user_id === auth.uid",
    		".read": "$user_id === auth.uid",
       		"worlds": {
	            ".validate": "newData.child('active').isBoolean()"
       		},
       		"collaborations": {
       			".validate": "newData.child('active').isBoolean()"
       		}
    	}
    },
    "worlds": {
		"$world_id": {
	        ".write": "data.child('owner').child('$user_id').val() === auth.id",
	    	".read": "data.child('collaborators/' +auth.uid).exists() || data.child('owner').child('$user_id').val() === auth.id",
	      	"owner": {
	       		".validate": "newData.child('active').isBoolean()"
	        },
	        "collaborators": {
	          	".validate": "newData.child('active').isBoolean()"
	        },
			"geometries": {},
			"materials": {},
			"metadata": {},
			"object": {}
		}
    },
    "collaborations":{
    	"$collaboration_id": {
    		"owner": {

    		},
    		"world": {

    		},
    		"collaborators": {

    		}
    	}
	}
  }
}